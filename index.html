<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Loading Portfolio...</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <div class="terminal-prompt">user@portfolio:~$</div>
            <h1 class="name" id="name">Loading...</h1>
            <p class="title" id="job-title">Loading...</p>
            <div class="contact-info" id="contact-info">
                <!-- Contact items will be populated by JavaScript -->
            </div>
        </div>

        <!-- About Section -->
        <div class="section">
            <h2 class="section-header">$ whoami</h2>
            <div class="section-content">
                <div class="terminal-window">
                    <div class="terminal-header">terminal - about</div>
                    <div class="terminal-body">
                        <div class="command-line">$ cat about.txt</div>
                        <div class="output" id="about-description">
                            Loading...
                        </div>
                        <div class="output" id="about-additional">
                            Loading...
                        </div>
                        <div class="command-line">$ ‚ñà<span class="blink">_</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Skills Section -->
        <div class="section">
            <h2 class="section-header">$ ls -la skills/</h2>
            <div class="section-content">
                <div class="skills-grid" id="skills-grid">
                    <!-- Skills will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div class="section">
            <h2 class="section-header">$ cd projects/ && ls -la</h2>
            <div class="section-content" id="projects-content">
                <!-- Projects will be populated by JavaScript -->
            </div>
        </div>

        <!-- Experience Section -->
        <div class="section">
            <h2 class="section-header">$ cat work_history.log</h2>
            <div class="section-content" id="experience-content">
                <!-- Experience will be populated by JavaScript -->
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="terminal-window">
                <div class="terminal-header">Contact Terminal</div>
                <div class="terminal-body">
                    <div class="command-line">$ echo "<span id="footer-message">Loading...</span>"</div>
                    <div class="output" id="footer-message-output">Loading...</div>
                    <div class="command-line">$ contact --email <span id="footer-email">loading...</span></div>
                    <div class="output">Message sent successfully. Response time: Usually within 24 hours.</div>
                </div>
            </div>
            
            <div class="social-links" id="social-links">
                <!-- Social links will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Load resume data and populate the page
        async function loadResumeData() {
            try {
                const response = await fetch('resume-data.json');
                const data = await response.json();
                populatePage(data);
            } catch (error) {
                console.error('Error loading resume data:', error);
                // Fallback - show error message
                document.getElementById('name').textContent = 'Error loading portfolio';
            }
        }

        function populatePage(data) {
            // Update page title
            document.getElementById('page-title').textContent = `${data.personal.name.replace('ALEX CHEN', 'Alex Chen')} - ${data.personal.title}`;
            
            // Populate header
            document.getElementById('name').textContent = data.personal.name;
            document.getElementById('job-title').textContent = data.personal.title;
            
            // Populate contact info
            const contactInfo = document.getElementById('contact-info');
            contactInfo.innerHTML = `
                <div class="contact-item">üìß ${data.personal.email}</div>
                <div class="contact-item">üì± ${data.personal.phone}</div>
                <div class="contact-item">üìç ${data.personal.location}</div>
                <div class="contact-item">üåê ${data.personal.website}</div>
            `;

            // Populate about section
            document.getElementById('about-description').textContent = data.about.description;
            document.getElementById('about-additional').textContent = data.about.additional;

            // Populate skills
            const skillsGrid = document.getElementById('skills-grid');
            skillsGrid.innerHTML = '';
            Object.entries(data.skills).forEach(([category, skills]) => {
                const skillCategory = document.createElement('div');
                skillCategory.className = 'skill-category';
                skillCategory.innerHTML = `
                    <h4>${category}</h4>
                    <ul class="skill-list">
                        ${skills.map(skill => `<li>${skill}</li>`).join('')}
                    </ul>
                `;
                skillsGrid.appendChild(skillCategory);
            });

            // Populate projects
            const projectsContent = document.getElementById('projects-content');
            projectsContent.innerHTML = '';
            data.projects.forEach(project => {
                const projectDiv = document.createElement('div');
                projectDiv.className = 'project';
                projectDiv.innerHTML = `
                    <h3 class="project-title">${project.title}</h3>
                    <div class="project-tech">${project.technologies}</div>
                    <div class="project-description">${project.description}</div>
                    <div class="project-links">
                        ${project.links.map(link => `<a href="${link.url}" class="link">${link.text}</a>`).join('')}
                    </div>
                `;
                projectsContent.appendChild(projectDiv);
            });

            // Populate experience
            const experienceContent = document.getElementById('experience-content');
            experienceContent.innerHTML = '';
            data.experience.forEach(job => {
                const experienceDiv = document.createElement('div');
                experienceDiv.className = 'experience-item';
                experienceDiv.innerHTML = `
                    <h3 class="job-title">${job.title}</h3>
                    <div class="company">${job.company}</div>
                    <div class="duration">${job.duration}</div>
                    <ul class="job-description">
                        ${job.responsibilities.map(resp => `<li>${resp}</li>`).join('')}
                    </ul>
                `;
                experienceContent.appendChild(experienceDiv);
            });

            // Populate footer
            document.getElementById('footer-message').textContent = data.footer.message;
            document.getElementById('footer-message-output').textContent = data.footer.message;
            document.getElementById('footer-email').textContent = data.footer.contactEmail;
            
            const socialLinks = document.getElementById('social-links');
            socialLinks.innerHTML = '';
            data.footer.socialLinks.forEach(link => {
                const socialLink = document.createElement('a');
                socialLink.href = link.url;
                socialLink.className = 'social-link';
                socialLink.textContent = link.text;
                socialLinks.appendChild(socialLink);
            });
        }

        // Load the data when the page loads
        document.addEventListener('DOMContentLoaded', loadResumeData);
    </script>
</body>
</html>
